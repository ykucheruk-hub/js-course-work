(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const k="favorites-exercises";function E(){const e=localStorage.getItem(k);return e?JSON.parse(e):[]}function J(e){return E().some(s=>s._id===e)}function K(e){let t=E();const s=t.findIndex(i=>i._id===e._id);return s!==-1?t.splice(s,1):t.push(e),localStorage.setItem(k,JSON.stringify(t)),s===-1}let _=null;function U(){const e=document.getElementById("js-global-notification-close");e&&e.addEventListener("click",q)}function v(e,t="success"){const s=document.getElementById("js-global-notification"),i=document.getElementById("js-global-notification-text");!s||!i||(i.textContent=e,s.className=`global-notification ${t}`,s.classList.remove("is-hidden"),_&&clearTimeout(_),_=setTimeout(q,5e3))}function q(){const e=document.getElementById("js-global-notification");e&&e.classList.add("is-hidden")}function $(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function T(e,t,s){e&&e.classList.add("error"),t&&(t.textContent=s,t.style.display="block")}let M=null,m=0;const F=e=>{e.key==="Escape"&&w()},O=e=>{const t=e.target.classList.contains("rating-modal__overlay"),s=e.target.classList.contains("js-close-rating")||e.target.closest(".js-close-rating");(t||s)&&w()};function Q(){const e=document.getElementById("js-rating-modal-form"),t=document.querySelectorAll(".rating-modal__star");e&&(t.forEach((s,i)=>{s.addEventListener("click",()=>{m=i+1,N(m);const n=document.getElementById("js-rating-modal-value");n&&(n.textContent=m.toFixed(1));const o=document.getElementById("js-rating-input");o&&(o.value=m)})}),e.addEventListener("submit",async s=>{s.preventDefault();const i=document.getElementById("js-rating-modal-email"),n=document.getElementById("js-rating-modal-comment"),o=i.value.trim();if(!$(o)){T(i,null,"Invalid email");return}const c=await Z(o,n.value.trim());c.success?(v("Rating submitted!","success"),w(!0)):v(c.error,"error")}))}function W(e){M=e;const t=document.getElementById("js-rating-modal");t&&(t.classList.remove("is-hidden"),document.body.style.overflow="hidden",window.addEventListener("keydown",F),t.addEventListener("click",O))}function w(e=!1){var i;const t=document.getElementById("js-rating-modal"),s=document.getElementById("js-exercise-modal");t&&(t.classList.add("is-hidden"),document.body.style.overflow=e?"hidden":"",window.removeEventListener("keydown",F),t.removeEventListener("click",O),e&&s&&s.classList.remove("is-hidden"),m=0,N(0),(i=document.getElementById("js-rating-modal-form"))==null||i.reset(),document.getElementById("js-rating-modal-value").textContent="0.0")}function N(e){document.querySelectorAll(".rating-modal__star svg path").forEach((s,i)=>{s.setAttribute("fill",i<e?"#EEA10C":"rgba(244, 244, 244, 0.2)"),s.setAttribute("stroke",i<e?"#EEA10C":"rgba(244, 244, 244, 0.2)")})}async function Z(e,t){try{const s=await fetch(`https://your-energy.b.goit.study/api/exercises/${M}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:m,email:e,review:t})}),i=await s.json();if(!s.ok)throw new Error(i.message);return{success:!0}}catch(s){return{success:!1,error:s.message}}}let f=null;function Y(){const e=document.getElementById("js-exercise-modal");if(!e)return;e.addEventListener("click",i=>{(i.target.classList.contains("js-close-modal")||i.target.closest("#js-exercise-modal-close"))&&b()});const t=document.getElementById("js-exercise-modal-favorites");t==null||t.addEventListener("click",()=>{var o,c;if(!f)return;const i=K(f);D(i);const n=((o=document.querySelector(".js-breadcrumb-current"))==null?void 0:o.style.display)==="none"&&((c=document.querySelector(".exercises__content__header-filters"))==null?void 0:c.style.display)==="none";!i&&n&&G()});const s=document.getElementById("js-exercise-modal-rating-btn");s==null||s.addEventListener("click",()=>{b(),W(f._id)})}const A=e=>{e.key==="Escape"&&b()};async function z(e){const t=document.getElementById("js-exercise-modal");try{f=await(await fetch(`https://your-energy.b.goit.study/api/exercises/${e}`)).json(),V(f),D(J(e)),t.classList.remove("is-hidden"),document.body.style.overflow="hidden",window.addEventListener("keydown",A)}catch{}}function V(e){document.getElementById("js-exercise-modal-image").src=e.gifUrl,document.getElementById("js-exercise-modal-title").textContent=e.name,document.getElementById("js-exercise-modal-description").textContent=e.description,document.getElementById("js-exercise-modal-rating-value").textContent=e.rating.toFixed(1);const t={target:e.target,"body-part":e.bodyPart,equipment:e.equipment,popular:e.popularity,calories:`${e.burnedCalories} / ${e.time} min`};Object.entries(t).forEach(([o,c])=>{const r=document.getElementById(`js-exercise-modal-${o}`);r&&(r.textContent=c)});const i=document.getElementById("js-exercise-modal-stars").querySelectorAll(".exercise-modal__star-icon"),n=Math.round(e.rating);i.forEach((o,c)=>{o.classList.toggle("is-active",c<n)})}function D(e){const t=document.getElementById("js-exercise-modal-favorites"),s=t.querySelector(".js-favorites-text");e?(s.textContent="Remove from favorites",t.classList.add("is-favorite")):(s.textContent="Add to favorites",t.classList.remove("is-favorite"))}function b(){const e=document.getElementById("js-exercise-modal");e&&(e.classList.add("is-hidden"),document.body.style.overflow="",window.removeEventListener("keydown",A))}const X="data:image/svg+xml,%3csvg%20width='34'%20height='32'%20viewBox='0%200%2034%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%23F4F4F4'%20fill-opacity='0.2'/%3e%3cpath%20d='M24.7293%2011.907C24.4611%2011.594%2023.9834%2011.5528%2023.6631%2011.8138L21.5637%2013.5369L20.5983%2011.1998C20.564%2011.1121%2020.5119%2011.0384%2020.452%2010.9734C20.2547%2010.5446%2019.9122%2010.1763%2019.44%209.96297C19.235%209.872%2019.0233%209.82326%2018.8116%209.79944C18.765%209.77561%2018.7229%209.7442%2018.6697%209.72796L14.9754%208.72184C14.7681%208.6666%2014.5597%208.70234%2014.3891%208.79981C14.1862%208.86696%2014.0122%209.011%2013.9291%209.22002L12.538%2012.7149C12.3873%2013.0951%2012.5801%2013.5239%2012.9703%2013.6734C13.3582%2013.8207%2013.7983%2013.6311%2013.9501%2013.2499L15.125%2010.2987L16.8076%2010.7557C16.7666%2010.8207%2016.7222%2010.8814%2016.689%2010.9507L14.532%2015.5188C14.501%2015.586%2014.4844%2015.6542%2014.4622%2015.7235L11.8408%2020.0177L7.45378%2021.4516C6.95721%2021.8144%206.85192%2022.4978%207.2188%2022.983C7.5879%2023.4692%208.28951%2023.5721%208.78497%2023.2137L13.274%2021.7029C13.4114%2021.6054%2013.5112%2021.4776%2013.5866%2021.34C13.6431%2021.2816%2013.7074%2021.235%2013.7506%2021.1624L15.3135%2018.6022L18.0878%2020.9123L15.1195%2024.1808C14.7105%2024.6313%2014.7515%2025.3255%2015.2148%2025.7241C15.677%2026.1259%2016.3853%2026.0836%2016.7965%2025.6309L20.5008%2021.5534C20.6161%2021.4278%2020.6848%2021.2826%2020.7313%2021.131C20.759%2021.0487%2020.759%2020.9632%2020.7657%2020.8776C20.7657%2020.8343%2020.7823%2020.7953%2020.779%2020.7552C20.769%2020.4563%2020.6449%2020.1661%2020.3944%2019.9592L17.8417%2017.8322C18.0257%2017.661%2018.182%2017.4574%2018.2951%2017.2181L19.9488%2013.7189L20.4786%2015.0975C20.5008%2015.2199%2020.5429%2015.3401%2020.6316%2015.4409C20.7114%2015.534%2020.8134%2015.5957%2020.922%2015.6391C20.9331%2015.6445%2020.9464%2015.6456%2020.9597%2015.6488C21.0284%2015.6726%2021.0982%2015.6954%2021.1703%2015.6986C21.2556%2015.7062%2021.3421%2015.6954%2021.4296%2015.6715C21.4318%2015.6705%2021.4329%2015.6705%2021.4329%2015.6705C21.4562%2015.665%2021.4795%2015.6694%2021.5028%2015.6596C21.6258%2015.6141%2021.72%2015.5372%2021.8009%2015.4474L24.8136%2012.9488C25.1339%2012.6857%2024.9987%2012.22%2024.7293%2011.907Z'%20fill='%23F4F4F4'/%3e%3cpath%20d='M20.9191%2010.1263C22.0853%2010.1263%2023.0306%209.20259%2023.0306%208.06314C23.0306%206.9237%2022.0853%206%2020.9191%206C19.753%206%2018.8076%206.9237%2018.8076%208.06314C18.8076%209.20259%2019.753%2010.1263%2020.9191%2010.1263Z'%20fill='%23F4F4F4'/%3e%3c/svg%3e",ee="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.5%2014L14%207.5M14%207.5L7.5%201M14%207.5H1'%20stroke='%23242424'%20stroke-width='1.3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";let L="Muscles",h=null;const d=document.getElementById("js-exercises-container"),p=document.getElementById("js-exercises-pagination"),B=document.getElementById("js-exercises-search");function C(e){B&&(B.style.display=e?"flex":"none")}function I(e=null){const t=document.querySelector(".js-breadcrumb-current"),s=document.querySelector(".js-breadcrumb-divider");e?(t.textContent=e,t.style.display="inline",s.style.display="inline"):(t.style.display="none",s.style.display="none")}function te(){const e=document.getElementById("js-exercises-search"),t=document.getElementById("js-exercises-search-input");!e||!t||e.addEventListener("submit",s=>{s.preventDefault();const i=t.value.trim();h&&j(h,1,i)})}function se(){d&&d.addEventListener("click",e=>{const t=e.target.closest("[data-category-name], [data-exercise-id]");t&&(t.dataset.categoryName?j(t.dataset.categoryName):t.dataset.exerciseId&&z(t.dataset.exerciseId))})}async function x(e,t=1,s=!1){L=e,h=null;const i=window.innerWidth<768?9:12;if(!s){C(!1),I(null);const n=document.getElementById("js-exercises-search-input");n&&(n.value="")}try{const o=await(await fetch(`https://your-energy.b.goit.study/api/filters?filter=${e}&page=${t}&limit=${i}`)).json();P(o.results,"category"),H(o.totalPages,t,e,"category")}catch{}}async function j(e,t=1,s=""){h=e,C(!0),I(e);const i=document.getElementById("js-exercises-search-input"),n=s||(i?i.value.trim():"");let o="muscles";L==="Body parts"&&(o="bodypart"),L==="Equipment"&&(o="equipment");let c=window.innerWidth>767?10:8;try{let r=`https://your-energy.b.goit.study/api/exercises?${o}=${e.toLowerCase()}&page=${t}&limit=${c}`;n&&(r+=`&keyword=${encodeURIComponent(n)}`);const a=await(await fetch(r)).json();P(a.results,"exercise"),H(a.totalPages,t,e,"exercise")}catch{}}function H(e,t,s,i){if(!p)return;if(e<=1){p.innerHTML="";return}t=Number(t);let n="";const o=1;let c=0;for(let r=1;r<=e;r++)(r===1||r===e||r>=t-o&&r<=t+o)&&(c&&r-c>1&&(n+='<span class="pagination__dots">...</span>'),n+=`
        <button class="exercises__content__main__cards__pagination__btn ${r===t?"is-active":""}" data-page="${r}">
          ${r}
        </button>`,c=r);p.innerHTML=n,p.onclick=r=>{const u=r.target.closest(".exercises__content__main__cards__pagination__btn");if(!u)return;const a=u.dataset.page;i==="category"?x(s,a,!0):j(s,a);const l=document.querySelector(".exercises");l&&window.scrollTo({top:l.offsetTop-20,behavior:"smooth"})}}function P(e,t){if(d){if(e.length===0){d.innerHTML='<p class="exercises__empty">No exercises found.</p>';return}t==="exercise"?d.classList.add("is-exercise-view"):d.classList.remove("is-exercise-view"),d.innerHTML=e.map(s=>t==="category"?ne(s):R(s)).join("")}}function ne({name:e,filter:t,imgURL:s}){return`
    <li class="exercises__content__main__cards__cards-item" data-category-name="${e}">
      <img src="${s}" alt="${e}" loading="lazy">
      <div class="exercises__content__main__cards__cards-item-overlay">
        <h3>${e}</h3>
        <p>${t}</p>
      </div>
    </li>`}function R(e){return`
    <li><div class="exercises__content__main__cards__cards-item-exercise" data-exercise-id="${e._id}">
      <div class="exercise-card-top">
        <div class="exercise-card-badge">WORKOUT</div>
        <div class="exercise-card-rating">
          <span>${e.rating.toFixed(1)}</span>
          <svg class="exercise-card-star-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </div>
        <button class="exercise-card-start-btn" type="button">
          Start
          <img src="${ee}" width="10" height="10">
        </button>
      </div>

      <div class="exercise-card-title">
        <img src="${X}" width='18' height='18' class="exercise-card-icon-container">
        <h3 class="exercise-card-name">${e.name}</h3>
      </div>

      <div class="exercise-card-info">
        <p><span>Burned calories:</span> ${e.burnedCalories} / ${e.time} min</p>
        <p><span>Body part:</span> ${e.bodyPart}</p>
        <p><span>Target:</span> ${e.target}</p>
      </div>
    </div></li>`}function ie(){const e=document.querySelector(".exercises");e&&e.classList.remove("is-favorites-page");const t=document.querySelector(".exercises__content__header-filters");t&&(t.style.display="flex"),x("Muscles",1)}function G(){const e=document.querySelector(".exercises");e&&e.classList.add("is-favorites-page");const t=document.getElementById("js-exercises-container"),s=document.getElementById("js-exercises-pagination"),i=document.querySelector(".exercises__content__header-filters");i&&(i.style.display="none"),C(!1),I(null),t.innerHTML="";const o=E().filter(r=>typeof r=="object"&&r!==null&&r._id);if(o.length===0){t.classList.remove("is-exercise-view"),t.innerHTML=`
      <li class="exercises__empty">
        <p>It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>
      </li>`,s&&(s.innerHTML="");return}t.classList.add("is-exercise-view");const c=o.filter(r=>typeof r=="object"&&r.rating!==void 0);t.innerHTML=c.map(r=>R(r)).join(""),s&&(s.innerHTML="")}function oe(){const e=document.querySelector(".exercises__filters-group");e&&e.addEventListener("click",t=>{const s=t.target;if(s.classList.contains("exercises__filters-group-item")&&!s.classList.contains("exercises__filters-group-item--active")){e.querySelectorAll(".exercises__filters-group-item").forEach(o=>o.classList.remove("exercises__filters-group-item--active")),s.classList.add("exercises__filters-group-item--active");const n=s.dataset.filter;x(n,1)}})}function re(){const e=document.querySelector(".header__burger"),t=document.querySelector(".mobile-menu__close"),s=document.querySelector(".mobile-menu"),i=document.querySelector(".header__nav"),n=document.querySelector(".mobile-menu__nav"),o=()=>{s==null||s.style.setProperty("display","none"),document.body.style.overflow=""};e==null||e.addEventListener("click",()=>{s==null||s.style.setProperty("display","block"),document.body.style.overflow="hidden"}),t==null||t.addEventListener("click",o);const c=r=>{const u=r.target.closest("[data-page]");if(!u)return;r.preventDefault();const a=u.dataset.page;ce(a);const l=document.querySelector(".home__content"),y=document.querySelector(".footer"),g=document.querySelector(".js-breadcrumb-base");a==="favorites"?(l&&(l.style.display="none"),y&&(y.style.display="none"),g&&(g.textContent="Favorites"),G()):(l&&(l.style.display="block"),y&&(y.style.display="block"),g&&(g.textContent="Exercises"),ie()),o()};i==null||i.addEventListener("click",c),n==null||n.addEventListener("click",c)}function ce(e){document.querySelectorAll(".header__nav-link, .mobile-menu__link").forEach(s=>{s.classList.toggle("header__nav-link--active",s.dataset.page===e)})}const S="quote-data";async function ae(){const e=document.getElementById("js-exercises-quote-text"),t=document.getElementById("js-exercises-quote-author");if(!e||!t)return;const s=await le();s&&(e.textContent=s.quote,t.textContent=s.author)}async function le(){const e=JSON.parse(localStorage.getItem(S)),t=new Date().toDateString();if(e&&e.date===t)return e;try{const n={...await(await fetch("https://your-energy.b.goit.study/api/quote")).json(),date:t};return localStorage.setItem(S,JSON.stringify(n)),n}catch{return e}}document.addEventListener("DOMContentLoaded",()=>{re(),ae(),U(),Y(),Q(),te(),se(),oe(),x("Muscles",1);const e=document.getElementById("js-subscribe-form"),t=document.getElementById("subscribeEmail"),s=document.getElementById("js-subscribe-error");e&&e.addEventListener("submit",async i=>{i.preventDefault();const n=t.value.trim();if(!$(n)){T(t,s,"Please enter a valid email address");return}const o=await de(n);o.success?(v("Thank you for subscribing!","success"),e.reset()):v(o.error,"error")})});async function de(e){try{const t=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),s=await t.json();if(!t.ok)throw new Error(s.message||"Subscription failed");return{success:!0}}catch(t){return{success:!1,error:t.message}}}
//# sourceMappingURL=index.js.map
