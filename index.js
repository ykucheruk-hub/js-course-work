(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const q="favorites-exercises";function L(){const e=localStorage.getItem(q);return e?JSON.parse(e):[]}function J(e){return L().some(s=>s._id===e)}function K(e){let t=L();const s=t.findIndex(i=>i._id===e._id);return s!==-1?t.splice(s,1):t.push(e),localStorage.setItem(q,JSON.stringify(t)),s===-1}let _=null;function U(){const e=document.getElementById("js-global-notification-close");e&&e.addEventListener("click",k)}function v(e,t="success"){const s=document.getElementById("js-global-notification"),i=document.getElementById("js-global-notification-text");!s||!i||(i.textContent=e,s.className=`global-notification ${t}`,s.classList.remove("is-hidden"),_&&clearTimeout(_),_=setTimeout(k,5e3))}function k(){const e=document.getElementById("js-global-notification");e&&e.classList.add("is-hidden")}function $(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function T(e,t,s){e&&e.classList.add("error"),t&&(t.textContent=s,t.style.display="block")}let M=null,m=0;const O=e=>{e.key==="Escape"&&w()},N=e=>{const t=e.target.classList.contains("rating-modal__overlay"),s=e.target.classList.contains("js-close-rating")||e.target.closest(".js-close-rating");(t||s)&&w()};function Q(){const e=document.getElementById("js-rating-modal-form"),t=document.querySelectorAll(".rating-modal__star");e&&(t.forEach((s,i)=>{s.addEventListener("click",()=>{m=i+1,F(m);const n=document.getElementById("js-rating-modal-value");n&&(n.textContent=m.toFixed(1));const o=document.getElementById("js-rating-input");o&&(o.value=m)})}),e.addEventListener("submit",async s=>{s.preventDefault();const i=document.getElementById("js-rating-modal-email"),n=document.getElementById("js-rating-modal-comment"),o=i.value.trim();if(!$(o)){T(i,null,"Invalid email");return}const c=await Y(o,n.value.trim());c.success?(v("Rating submitted!","success"),w(!0)):v(c.error,"error")}))}function W(e){M=e;const t=document.getElementById("js-rating-modal");t&&(t.classList.remove("is-hidden"),document.body.style.overflow="hidden",window.addEventListener("keydown",O),t.addEventListener("click",N))}function w(e=!1){var i;const t=document.getElementById("js-rating-modal"),s=document.getElementById("js-exercise-modal");t&&(t.classList.add("is-hidden"),document.body.style.overflow=e?"hidden":"",window.removeEventListener("keydown",O),t.removeEventListener("click",N),e&&s&&s.classList.remove("is-hidden"),m=0,F(0),(i=document.getElementById("js-rating-modal-form"))==null||i.reset(),document.getElementById("js-rating-modal-value").textContent="0.0")}function F(e){document.querySelectorAll(".rating-modal__star svg path").forEach((s,i)=>{s.setAttribute("fill",i<e?"#EEA10C":"rgba(244, 244, 244, 0.2)"),s.setAttribute("stroke",i<e?"#EEA10C":"rgba(244, 244, 244, 0.2)")})}async function Y(e,t){try{const s=await fetch(`https://your-energy.b.goit.study/api/exercises/${M}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({rate:m,email:e,review:t})}),i=await s.json();if(!s.ok)throw new Error(i.message);return{success:!0}}catch(s){return{success:!1,error:s.message}}}let f=null;function z(){const e=document.getElementById("js-exercise-modal");if(!e)return;e.addEventListener("click",i=>{(i.target.classList.contains("js-close-modal")||i.target.closest("#js-exercise-modal-close"))&&b()});const t=document.getElementById("js-exercise-modal-favorites");t==null||t.addEventListener("click",()=>{var o,c;if(!f)return;const i=K(f);D(i);const n=((o=document.querySelector(".js-breadcrumb-current"))==null?void 0:o.style.display)==="none"&&((c=document.querySelector(".exercises__content__header-filters"))==null?void 0:c.style.display)==="none";!i&&n&&G()});const s=document.getElementById("js-exercise-modal-rating-btn");s==null||s.addEventListener("click",()=>{b(),W(f._id)})}const A=e=>{e.key==="Escape"&&b()};async function Z(e){const t=document.getElementById("js-exercise-modal");try{f=await(await fetch(`https://your-energy.b.goit.study/api/exercises/${e}`)).json(),V(f),D(J(e)),t.classList.remove("is-hidden"),document.body.style.overflow="hidden",window.addEventListener("keydown",A)}catch{}}function V(e){document.getElementById("js-exercise-modal-image").src=e.gifUrl,document.getElementById("js-exercise-modal-title").textContent=e.name,document.getElementById("js-exercise-modal-description").textContent=e.description,document.getElementById("js-exercise-modal-rating-value").textContent=e.rating.toFixed(1);const t={target:e.target,"body-part":e.bodyPart,equipment:e.equipment,popular:e.popularity,calories:`${e.burnedCalories} / ${e.time} min`};Object.entries(t).forEach(([o,c])=>{const r=document.getElementById(`js-exercise-modal-${o}`);r&&(r.textContent=c)});const i=document.getElementById("js-exercise-modal-stars").querySelectorAll(".exercise-modal__star-icon"),n=Math.round(e.rating);i.forEach((o,c)=>{o.classList.toggle("is-active",c<n)})}function D(e){const t=document.getElementById("js-exercise-modal-favorites"),s=t.querySelector(".js-favorites-text");e?(s.textContent="Remove from favorites",t.classList.add("is-favorite")):(s.textContent="Add to favorites",t.classList.remove("is-favorite"))}function b(){const e=document.getElementById("js-exercise-modal");e&&(e.classList.add("is-hidden"),document.body.style.overflow="",window.removeEventListener("keydown",A))}let E="Muscles",h=null;const d=document.getElementById("js-exercises-container"),p=document.getElementById("js-exercises-pagination"),S=document.getElementById("js-exercises-search");function j(e){S&&(S.style.display=e?"flex":"none")}function I(e=null){const t=document.querySelector(".js-breadcrumb-current"),s=document.querySelector(".js-breadcrumb-divider");e?(t.textContent=e,t.style.display="inline",s.style.display="inline"):(t.style.display="none",s.style.display="none")}function X(){const e=document.getElementById("js-exercises-search"),t=document.getElementById("js-exercises-search-input");!e||!t||e.addEventListener("submit",s=>{s.preventDefault();const i=t.value.trim();h&&B(h,1,i)})}function ee(){d&&d.addEventListener("click",e=>{const t=e.target.closest("[data-category-name], [data-exercise-id]");t&&(t.dataset.categoryName?B(t.dataset.categoryName):t.dataset.exerciseId&&Z(t.dataset.exerciseId))})}async function x(e,t=1,s=!1){E=e,h=null;const i=window.innerWidth<768?9:12;if(!s){j(!1),I(null);const n=document.getElementById("js-exercises-search-input");n&&(n.value="")}try{const o=await(await fetch(`https://your-energy.b.goit.study/api/filters?filter=${e}&page=${t}&limit=${i}`)).json();H(o.results,"category"),P(o.totalPages,t,e,"category")}catch{}}async function B(e,t=1,s=""){h=e,j(!0),I(e);const i=document.getElementById("js-exercises-search-input"),n=s||(i?i.value.trim():"");let o="muscles";E==="Body parts"&&(o="bodypart"),E==="Equipment"&&(o="equipment");let c=window.innerWidth>767?10:8;try{let r=`https://your-energy.b.goit.study/api/exercises?${o}=${e.toLowerCase()}&page=${t}&limit=${c}`;n&&(r+=`&keyword=${encodeURIComponent(n)}`);const a=await(await fetch(r)).json();H(a.results,"exercise"),P(a.totalPages,t,e,"exercise")}catch{}}function P(e,t,s,i){if(!p)return;if(e<=1){p.innerHTML="";return}t=Number(t);let n="";const o=1;let c=0;for(let r=1;r<=e;r++)(r===1||r===e||r>=t-o&&r<=t+o)&&(c&&r-c>1&&(n+='<span class="pagination__dots">...</span>'),n+=`
        <button class="exercises__content__main__cards__pagination__btn ${r===t?"is-active":""}" data-page="${r}">
          ${r}
        </button>`,c=r);p.innerHTML=n,p.onclick=r=>{const u=r.target.closest(".exercises__content__main__cards__pagination__btn");if(!u)return;const a=u.dataset.page;i==="category"?x(s,a,!0):B(s,a);const l=document.querySelector(".exercises");l&&window.scrollTo({top:l.offsetTop-20,behavior:"smooth"})}}function H(e,t){if(d){if(e.length===0){d.innerHTML='<p class="exercises__empty">No exercises found.</p>';return}t==="exercise"?d.classList.add("is-exercise-view"):d.classList.remove("is-exercise-view"),d.innerHTML=e.map(s=>t==="category"?te(s):R(s)).join("")}}function te({name:e,filter:t,imgURL:s}){return`
    <li class="exercises__content__main__cards__cards-item" data-category-name="${e}">
      <img src="${s}" alt="${e}" loading="lazy">
      <div class="exercises__content__main__cards__cards-item-overlay">
        <h3>${e}</h3>
        <p>${t}</p>
      </div>
    </li>`}function R(e){return`
    <li><div class="exercises__content__main__cards__cards-item-exercise" data-exercise-id="${e._id}">
      <div class="exercise-card-top">
        <div class="exercise-card-badge">WORKOUT</div>
        <div class="exercise-card-rating">
          <span>${e.rating.toFixed(1)}</span>
          <svg class="exercise-card-star-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
        </div>
        <button class="exercise-card-start-btn" type="button">
          Start
          <img src="./images/svg/arrow.svg" width="10" height="10">
        </button>
      </div>

      <div class="exercise-card-title">
        <img src="./images/svg/runner-icon-light.svg" width='18' height='18' class="exercise-card-icon-container">
        <h3 class="exercise-card-name">${e.name}</h3>
      </div>

      <div class="exercise-card-info">
        <p><span>Burned calories:</span> ${e.burnedCalories} / ${e.time} min</p>
        <p><span>Body part:</span> ${e.bodyPart}</p>
        <p><span>Target:</span> ${e.target}</p>
      </div>
    </div></li>`}function se(){const e=document.querySelector(".exercises");e&&e.classList.remove("is-favorites-page");const t=document.querySelector(".exercises__content__header-filters");t&&(t.style.display="flex"),x("Muscles",1)}function G(){const e=document.querySelector(".exercises");e&&e.classList.add("is-favorites-page");const t=document.getElementById("js-exercises-container"),s=document.getElementById("js-exercises-pagination"),i=document.querySelector(".exercises__content__header-filters");i&&(i.style.display="none"),j(!1),I(null),t.innerHTML="";const o=L().filter(r=>typeof r=="object"&&r!==null&&r._id);if(o.length===0){t.classList.remove("is-exercise-view"),t.innerHTML=`
      <li class="exercises__empty">
        <p>It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>
      </li>`,s&&(s.innerHTML="");return}t.classList.add("is-exercise-view");const c=o.filter(r=>typeof r=="object"&&r.rating!==void 0);t.innerHTML=c.map(r=>R(r)).join(""),s&&(s.innerHTML="")}function ne(){const e=document.querySelector(".exercises__filters-group");e&&e.addEventListener("click",t=>{const s=t.target;if(s.classList.contains("exercises__filters-group-item")&&!s.classList.contains("exercises__filters-group-item--active")){e.querySelectorAll(".exercises__filters-group-item").forEach(o=>o.classList.remove("exercises__filters-group-item--active")),s.classList.add("exercises__filters-group-item--active");const n=s.dataset.filter;x(n,1)}})}function ie(){const e=document.querySelector(".header__burger"),t=document.querySelector(".mobile-menu__close"),s=document.querySelector(".mobile-menu"),i=document.querySelector(".header__nav"),n=document.querySelector(".mobile-menu__nav"),o=()=>{s==null||s.style.setProperty("display","none"),document.body.style.overflow=""};e==null||e.addEventListener("click",()=>{s==null||s.style.setProperty("display","block"),document.body.style.overflow="hidden"}),t==null||t.addEventListener("click",o);const c=r=>{const u=r.target.closest("[data-page]");if(!u)return;r.preventDefault();const a=u.dataset.page;oe(a);const l=document.querySelector(".home__content"),y=document.querySelector(".footer"),g=document.querySelector(".js-breadcrumb-base");a==="favorites"?(l&&(l.style.display="none"),y&&(y.style.display="none"),g&&(g.textContent="Favorites"),G()):(l&&(l.style.display="block"),y&&(y.style.display="block"),g&&(g.textContent="Exercises"),se()),o()};i==null||i.addEventListener("click",c),n==null||n.addEventListener("click",c)}function oe(e){document.querySelectorAll(".header__nav-link, .mobile-menu__link").forEach(s=>{s.classList.toggle("header__nav-link--active",s.dataset.page===e)})}const C="quote-data";async function re(){const e=document.getElementById("js-exercises-quote-text"),t=document.getElementById("js-exercises-quote-author");if(!e||!t)return;const s=await ce();s&&(e.textContent=s.quote,t.textContent=s.author)}async function ce(){const e=JSON.parse(localStorage.getItem(C)),t=new Date().toDateString();if(e&&e.date===t)return e;try{const n={...await(await fetch("https://your-energy.b.goit.study/api/quote")).json(),date:t};return localStorage.setItem(C,JSON.stringify(n)),n}catch{return e}}document.addEventListener("DOMContentLoaded",()=>{ie(),re(),U(),z(),Q(),X(),ee(),ne(),x("Muscles",1);const e=document.getElementById("js-subscribe-form"),t=document.getElementById("subscribeEmail"),s=document.getElementById("js-subscribe-error");e&&e.addEventListener("submit",async i=>{i.preventDefault();const n=t.value.trim();if(!$(n)){T(t,s,"Please enter a valid email address");return}const o=await ae(n);o.success?(v("Thank you for subscribing!","success"),e.reset()):v(o.error,"error")})});async function ae(e){try{const t=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),s=await t.json();if(!t.ok)throw new Error(s.message||"Subscription failed");return{success:!0}}catch(t){return{success:!1,error:t.message}}}
//# sourceMappingURL=index.js.map
